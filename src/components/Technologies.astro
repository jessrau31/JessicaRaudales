---
import { technologiesData } from '../content/data';
---

<section
  id="technologies"
  class="py-12 md:py-20 bg-[#222023] text-[#FAEADD] rounded-t-xl border-t-4 border-[#DDAAFF]"
>
  <div class="max-w-6xl mx-auto px-4 md:px-6">
    <h3 class="text-4xl md:text-5xl font-dosis font-bold text-center mb-12 md:mb-20">
      ðŸŒŸ TecnologÃ­as y Habilidades
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12">
      {technologiesData.map((group) => {
        const sortedSkills = [...group.skills].sort(
          (a, b) => parseInt(b.percentage) - parseInt(a.percentage)
        );
        return (
          <div class="space-y-6 md:space-y-8">
            <h4 class="font-nunito text-xl md:text-2xl font-bold mb-4 md:mb-6 flex items-center gap-2 md:gap-3 hover:text-[#F29CB7] transition-colors">
              {group.groupIcon.type === "material" ? (
                <span class={group.groupIcon.classes}>
                  {group.groupIcon.name}
                </span>
              ) : (
                <i class={group.groupIcon.classes}></i>
              )}
              {group.groupTitle}
            </h4>

            <div class="space-y-4 md:space-y-6">
              {sortedSkills.map((skill) => (
                <div class="skill-item group relative p-3 md:p-4 rounded-xl transition-all duration-300 hover:bg-[#522A6F]/20 hover:shadow-lg hover:-translate-y-1">
                  <div class="flex justify-between items-center mb-2 font-dosis">
                    <div class="flex items-center gap-2 md:gap-3">
                      <i class={skill.iconClass}></i>
                      <span class={`text-base md:text-lg transition-colors ${skill.hoverTextColor}`}>
                        {skill.name}
                      </span>
                    </div>
                    <span class={`text-sm md:text-base transition-colors ${skill.hoverTextColor}`}>
                      {skill.percentage}
                    </span>
                  </div>
                  <div class="h-2 md:h-3 bg-[#FAEADD]/20 rounded-full overflow-hidden">
                    <div
                      class={`h-full rounded-full transition-all duration-500 ${skill.progress.base} ${skill.progress.hoverGradient} skill-progress`}
                      style={`--progress-width: ${skill.percentage}; width: var(--progress-width);`}
                    ></div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>

<style>
  .skill-progress {
    transition: width 0.5s ease;
  }
  .group:hover .skill-progress {
    width: calc(var(--progress-width) + 10%);
  }
  
  @media (max-width: 768px) {
    .skill-item:hover {
      transform: translateY(-2px) scale(1.02);
    }
  }
</style>